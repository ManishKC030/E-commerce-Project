<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Create Shop</title>
    <link rel="stylesheet" href="ad_style/admin_shop.css" />
  </head>
  <body>
    <header>
      <h1>Admin Panel - Create Shop</h1>
    </header>
    <main>
      <h2>Create a New Shop</h2>
      <form id="shop-form">
        <img id="image-preview" src="" alt= "" />

        <label for="shop-image">Upload Picture:</label>
        <input
          type="file"
          id="shop-image"
          accept="image/*"
          onchange="previewImage(event)"
          required
        />

        <label for="shop-name">Shop Name:</label>
        <input
          type="text"
          id="shop-name"
          placeholder="Enter shop name"
          required
        />

        <label for="shop-address">Shop Address:</label>
        <input
          type="text"
          id="shop-address"
          placeholder="Enter shop address"
          required
        />

        <label for="shop-about">About Shop:</label>
        <textarea
          id="shop-about"
          placeholder="Write about the shop..."
          rows="5"
          required
        ></textarea>

        <button type="button" onclick="createShop()">Create Shop</button>
      </form>

      <div id="shop-preview">
        <h2>Shop Preview</h2>
        <p>No shop created yet. Fill out the form to create one!</p>
      </div>
    </main>
    <script>
      // Function to preview the uploaded image
      function previewImage(event) {
        const file = event.target.files[0];
        const preview = document.getElementById("image-preview");

        if (file) {
          const reader = new FileReader();
          reader.onload = () => {
            preview.src = reader.result;
          };
          reader.readAsDataURL(file);
        } else {
          preview.src = "";
        }
      }

      // Function to create shop and display in preview section
      function createShop() {
        const name = document.getElementById("shop-name").value;
        const address = document.getElementById("shop-address").value;
        const about = document.getElementById("shop-about").value;
        const imagePreview = document.getElementById("image-preview").src;

        if (!name || !address || !about || !imagePreview) {
          alert("Please fill in all fields and upload an image.");
          return;
        }

        const preview = document.getElementById("shop-preview");
        preview.innerHTML = `
        <div class="shop-card">
          <img src="${imagePreview}" alt="${name}" />
          <h3>${name}</h3>
          <p><strong>Address:</strong> ${address}</p>
          <p>${about}</p>
        </div>
      `;

        // Reset form
        document.getElementById("shop-form").reset();
        document.getElementById("image-preview").src = "";
      }
    </script>
  </body>
</html>
